(this["webpackJsonpseahub-frontend"]=this["webpackJsonpseahub-frontend"]||[]).push([[16],{1225:function(e,t,a){e.exports=a(1269)},1226:function(e,t,a){},1269:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(6),r=a(8),i=a(7),o=a(0),s=a.n(o),l=a(23),m=a.n(l),u=a(16),b=a(4),d=a(1),h=a(9),f=a(10),p=a(42),g=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("ul",{className:"nav flex-column user-setting-nav"},this.props.data.map((function(t,a){return t.show?s.a.createElement("li",{key:a,className:"nav-item ".concat(e.props.curItemID==t.href.substr(1)&&"active")},s.a.createElement("a",{className:"nav-link",href:t.href},t.text)):null})))}}]),a}(s.a.Component),O=window.app.pageOptions,E=O.avatarURL,v=O.csrfToken,j=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).fileInputChange=function(){if(c.fileInput.current.files.length){var e=c.fileInput.current.files[0],t=e.name;if(-1==t.lastIndexOf("."))return f.a.danger(Object(d.mb)("Please choose an image file."),{duration:5}),!1;var a=t.substr(t.lastIndexOf(".")+1).toLowerCase(),n=["jpg","jpeg","png","gif"];if(-1==n.indexOf(a)){var r=Object(d.mb)("File extensions can only be {placeholder}.").replace("{placeholder}",n.join(", "));return f.a.danger(r,{duration:5}),!1}if(e.size>1048576){var i=Object(d.mb)("The file is too large. Allowed maximum size is 1MB.");return f.a.danger(i,{duration:5}),!1}h.a.updateUserAvatar(e,160).then((function(e){c.setState({avatarSrc:e.data.avatar_url}),f.a.success(Object(d.mb)("Success"))})).catch((function(e){var t=b.a.getErrorMsg(e);f.a.danger(t)}))}},c.openFileInput=function(){c.fileInput.current.click()},c.handleMouseOver=function(){c.setState({isEditShown:!0})},c.handleMouseOut=function(){c.setState({isEditShown:!1})},c.fileInput=s.a.createRef(),c.form=s.a.createRef(),c.state={avatarSrc:E,isEditShown:!1},c}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("form",{ref:this.form,className:"form-group row",encType:"multipart/form-data",method:"post",action:"".concat(d.ic,"avatar/add/")},s.a.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:v}),s.a.createElement("label",{className:"col-sm-1 col-form-label"},Object(d.mb)("Avatar:")),s.a.createElement("div",{className:"col-auto position-relative",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},s.a.createElement("img",{src:this.state.avatarSrc,width:"80",height:"80",alt:"",className:"user-avatar"}),s.a.createElement("input",{type:"file",name:"avatar",className:"d-none",onChange:this.fileInputChange,ref:this.fileInput}),s.a.createElement("span",{className:"avatar-edit fas fa-edit ".concat(!this.state.isEditShown&&"d-none"),onClick:this.openFileInput})))}}]),a}(s.a.Component),w=window.app.pageOptions,k=w.nameLabel,N=w.enableUpdateUserInfo,C=w.enableUserSetContactEmail,y=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;Object(n.a)(this,a),(c=t.call(this,e)).handleNameInputChange=function(e){c.setState({name:e.target.value})},c.handleContactEmailInputChange=function(e){c.setState({contactEmail:e.target.value})},c.handleSubmit=function(e){e.preventDefault();var t={name:c.state.name};C&&(t.contact_email=c.state.contactEmail),c.props.updateUserInfo(t)};var r=c.props.userInfo,i=r.contact_email,o=r.login_id,s=r.name;return c.state={contactEmail:i,loginID:o,name:s},c}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.contactEmail,a=e.loginID,n=e.name;return s.a.createElement("form",{action:"",method:"post",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{className:"col-sm-1 col-form-label",htmlFor:"name"},k),s.a.createElement("div",{className:"col-sm-5"},s.a.createElement("input",{className:"form-control",id:"name",type:"text",name:"nickname",value:n,disabled:!N,onChange:this.handleNameInputChange}))),a&&s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{className:"col-sm-1 col-form-label",htmlFor:"user-name"},Object(d.mb)("Username:")),s.a.createElement("div",{className:"col-sm-5"},s.a.createElement("input",{className:"form-control",id:"user-name",type:"text",name:"username",value:a,disabled:!0,readOnly:!0})),s.a.createElement("p",{className:"col-sm-5 m-0 input-tip"},Object(d.mb)("You can use this field at login."))),(t||C)&&s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{className:"col-sm-1 col-form-label",htmlFor:"contact-email"},Object(d.mb)("Contact Email:")),s.a.createElement("div",{className:"col-sm-5"},s.a.createElement("input",{className:"form-control",id:"contact-email",type:"text",name:"contact_email",value:t,disabled:!C,readOnly:!C,onChange:this.handleContactEmailInputChange})),s.a.createElement("p",{className:"col-sm-5 m-0 input-tip"},Object(d.mb)("Your notifications will be sent to this email."))),s.a.createElement("button",{type:"submit",className:"btn btn-outline-primary offset-sm-1",disabled:!N},Object(d.mb)("Submit")))}}]),a}(s.a.Component),D=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).getAuthToken=function(){h.a.getAuthTokenBySession().then((function(e){c.setState({authToken:e.data.token})})).catch((function(e){var t=b.a.getErrorMsg(e);f.a.danger(t)}))},c.state={authToken:"******"},c}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.authToken;return s.a.createElement("div",{id:"get-auth-token",className:"setting-item"},s.a.createElement("h3",{className:"setting-item-heading"},Object(d.mb)("Web API Auth Token")),s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("input",{type:"text",readOnly:!0,value:e,className:"form-control mr-2 col-sm-5"}),s.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.getAuthToken},Object(d.mb)("Get"))))}}]),a}(s.a.Component),I=a(17),S=a(3),x=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).submit=function(){c.setState({btnDisabled:!0}),c.props.updatePassword(c.state.password)},c.handleInputChange=function(e){var t=e.target.value.trim();c.setState({password:t})},c.togglePasswordVisible=function(){c.setState({isPasswordVisible:!c.state.isPasswordVisible})},c.generatePassword=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<8;a++)e+=t.charAt(Math.floor(Math.random()*t.length));c.setState({password:e,isPasswordVisible:!0})},c.state={password:c.props.password,isPasswordVisible:!1,btnDisabled:!1},c}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.toggle;return s.a.createElement(S.x,{centered:!0,isOpen:!0,toggle:e},s.a.createElement(S.A,{toggle:e},Object(d.mb)("WebDav Password")),s.a.createElement(S.y,null,s.a.createElement(S.t,{className:""},s.a.createElement(S.s,{type:this.state.isPasswordVisible?"text":"password",value:this.state.password,onChange:this.handleInputChange}),s.a.createElement(S.u,{addonType:"append"},s.a.createElement(S.c,{onClick:this.togglePasswordVisible},s.a.createElement("i",{className:"fas ".concat(this.state.isPasswordVisible?"fa-eye":"fa-eye-slash")})),s.a.createElement(S.c,{onClick:this.generatePassword},s.a.createElement("i",{className:"fas fa-magic"}))))),s.a.createElement(S.z,null,s.a.createElement(S.c,{color:"secondary",onClick:e},Object(d.mb)("Cancel")),s.a.createElement(S.c,{color:"primary",onClick:this.submit,disabled:this.state.btnDisabled},Object(d.mb)("Submit"))))}}]),a}(o.Component),P=window.app.pageOptions.webdavPasswd,A=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).togglePasswordVisible=function(){c.setState({isPasswordVisible:!c.state.isPasswordVisible})},c.updatePassword=function(e){h.a.updateWebdavSecret(e).then((function(t){c.toggleDialog(),c.setState({password:e}),f.a.success(Object(d.mb)("Success"))})).catch((function(e){var t=b.a.getErrorMsg(e);c.toggleDialog(),f.a.danger(t)}))},c.toggleDialog=function(){c.setState({isDialogOpen:!c.state.isDialogOpen})},c.state={password:P,isPasswordVisible:!1,isDialogOpen:!1},c}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.password,a=e.isPasswordVisible;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"update-webdav-passwd",className:"setting-item"},s.a.createElement("h3",{className:"setting-item-heading"},Object(d.mb)("WebDav Password")),t?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("label",{className:"m-0 mr-2"},Object(d.mb)("Password:")),s.a.createElement("input",{className:"border-0 mr-1",type:"text",value:a?t:"**********",readOnly:!0,size:Math.max(t.length,10)}),s.a.createElement("span",{onClick:this.togglePasswordVisible,className:"eye-icon fas ".concat(this.state.isPasswordVisible?"fa-eye":"fa-eye-slash")})),s.a.createElement("button",{className:"btn btn-outline-primary mt-2",onClick:this.toggleDialog},Object(d.mb)("Update"))):s.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.toggleDialog},Object(d.mb)("Set Password"))),this.state.isDialogOpen&&s.a.createElement(I.a,null,s.a.createElement(x,{password:this.state.password,updatePassword:this.updatePassword,toggle:this.toggleDialog})))}}]),a}(s.a.Component),T=a(67),U=window.app.pageOptions,F=U.currentLang,_=U.langList,L=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).onSelectChange=function(e){location.href="".concat(d.ic,"i18n/?lang=").concat(e.value)},c}return Object(c.a)(a,[{key:"render",value:function(){var e=_.map((function(e,t){return{value:e.langCode,label:e.langName}}));return s.a.createElement("div",{className:"setting-item",id:"lang-setting"},s.a.createElement("h3",{className:"setting-item-heading"},Object(d.mb)("Language Setting")),s.a.createElement(T.a,{className:"language-selector",defaultValue:{value:F.langCode,label:F.langName},options:e,onChange:this.onSelectChange}))}}]),a}(s.a.Component),M=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;Object(n.a)(this,a),(c=t.call(this,e)).handleInputChange=function(e){var t=e.target.checked;c.setState({inputChecked:t}),c.props.updateUserInfo({list_in_address_book:t.toString()})};var r=c.props.userInfo.list_in_address_book;return c.state={inputChecked:r},c}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.inputChecked;return s.a.createElement("div",{className:"setting-item",id:"list-in-address-book"},s.a.createElement("h3",{className:"setting-item-heading"},Object(d.mb)("Global Address Book")),s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("input",{type:"checkbox",id:"list-in-address-book",name:"list_in_address_book",className:"mr-1",checked:e,onChange:this.handleInputChange}),s.a.createElement("label",{htmlFor:"list-in-address-book",className:"m-0"},Object(d.mb)("List your account in global address book, so that others can find you by typing your name."))))}}]),a}(s.a.Component),R=window.app.pageOptions.initialEmailNotificationInterval,V=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).inputChange=function(e){e.target.checked&&c.setState({currentInterval:e.target.value})},c.formSubmit=function(e){e.preventDefault(),h.a.updateEmailNotificationInterval(c.state.currentInterval).then((function(e){f.a.success(Object(d.mb)("Success"))})).catch((function(e){var t=b.a.getErrorMsg(e);f.a.danger(t)}))},c.intervalOptions=[{interval:0,text:Object(d.mb)("Don't send emails")},{interval:3600,text:Object(d.mb)("Per hour")},{interval:14400,text:Object(d.mb)("Per 4 hours")},{interval:86400,text:Object(d.mb)("Per day")},{interval:604800,text:Object(d.mb)("Per week")}],c.state={currentInterval:R},c}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state.currentInterval;return s.a.createElement("div",{className:"setting-item",id:"email-notice"},s.a.createElement("h3",{className:"setting-item-heading"},Object(d.mb)("Email Notification of File Changes")),s.a.createElement("p",{className:"mb-1"},Object(d.mb)("The list of added, deleted and modified files will be sent to your mailbox.")),s.a.createElement("form",{method:"post",action:"",id:"set-email-notice-interval-form",onSubmit:this.formSubmit},this.intervalOptions.map((function(a,n){return s.a.createElement(s.a.Fragment,{key:n},s.a.createElement("input",{type:"radio",name:"interval",value:a.interval,className:"align-middle",id:"interval-option".concat(n+1),checked:t==a.interval,onChange:e.inputChange}),s.a.createElement("label",{className:"align-middle m-0 ml-2",htmlFor:"interval-option".concat(n+1)},a.text),s.a.createElement("br",null))})),s.a.createElement("button",{type:"submit",className:"btn btn-outline-primary mt-2"},Object(d.mb)("Submit"))))}}]),a}(s.a.Component),W=window.app.pageOptions,z=W.defaultDevice,B=W.backupTokens,G=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).renderEnabled=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"mb-2"},Object(d.mb)("Status: enabled")),s.a.createElement("a",{className:"btn btn-outline-primary mb-4",href:"".concat(d.ic,"profile/two_factor_authentication/disable/")},Object(d.mb)("Disable Two-Factor Authentication")),s.a.createElement("p",{className:"mb-2"},Object(d.mb)("If you don't have any device with you, you can access your account using backup codes."),1==B?Object(d.mb)("You have only one backup code remaining."):Object(d.mb)("You have {num} backup codes remaining.").replace("{num}",B)),s.a.createElement("a",{href:"".concat(d.ic,"profile/two_factor_authentication/backup/tokens/"),className:"btn btn-outline-primary"},Object(d.mb)("Show Codes")))},c.renderDisabled=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"mb-2"},Object(d.mb)("Two-factor authentication is not enabled for your account. Enable two-factor authentication for enhanced account security.")),s.a.createElement("a",{href:"".concat(d.ic,"profile/two_factor_authentication/setup/"),className:"btn btn-outline-primary"},Object(d.mb)("Enable Two-Factor Authentication")))},c}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"setting-item",id:"two-factor-auth"},s.a.createElement("h3",{className:"setting-item-heading"},Object(d.mb)("Two-Factor Authentication")),z?this.renderEnabled():this.renderDisabled())}}]),a}(s.a.Component),Y=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).disconnect=function(){c.form.current.submit()},c.form=s.a.createRef(),c}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.formActionURL,a=e.csrfToken,n=e.toggle;return s.a.createElement(S.x,{centered:!0,isOpen:!0,toggle:n},s.a.createElement(S.A,{toggle:n},Object(d.mb)("Disconnect")),s.a.createElement(S.y,null,s.a.createElement("p",null,Object(d.mb)("Are you sure you want to disconnect?")),s.a.createElement("form",{ref:this.form,className:"d-none",method:"post",action:t},s.a.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:a}))),s.a.createElement(S.z,null,s.a.createElement(S.c,{color:"secondary",onClick:n},Object(d.mb)("Cancel")),s.a.createElement(S.c,{color:"primary",onClick:this.disconnect},Object(d.mb)("Disconnect"))))}}]),a}(o.Component),J=window.app.pageOptions,q=J.csrfToken,H=J.langCode,K=J.socialConnected,Q=J.socialNextPage,X=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).confirmDisconnect=function(e){e.preventDefault(),c.setState({isConfirmDialogOpen:!0})},c.toggleDialog=function(){c.setState({isConfirmDialogOpen:!c.state.isConfirmDialogOpen})},c.state={isConfirmDialogOpen:!1},c}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"setting-item",id:"social-auth"},s.a.createElement("h3",{className:"setting-item-heading"},Object(d.mb)("Social Login")),s.a.createElement("p",{className:"mb-2"},"zh-cn"==H?"\u4f01\u4e1a\u5fae\u4fe1":"WeChat Work"),K?s.a.createElement("a",{href:"#",className:"btn btn-outline-primary",onClick:this.confirmDisconnect},Object(d.mb)("Disconnect")):s.a.createElement("a",{href:"".concat(d.ic,"work-weixin/oauth-connect/?next=").concat(encodeURIComponent(Q)),className:"btn btn-outline-primary"},Object(d.mb)("Connect"))),this.state.isConfirmDialogOpen&&s.a.createElement(I.a,null,s.a.createElement(Y,{formActionURL:"".concat(d.ic,"work-weixin/oauth-disconnect/?next=").concat(encodeURIComponent(Q)),csrfToken:q,toggle:this.toggleDialog})))}}]),a}(s.a.Component),Z=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).disconnect=function(){c.form.current.submit()},c.form=s.a.createRef(),c}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.formActionURL,a=e.csrfToken,n=e.toggle;return s.a.createElement(S.x,{centered:!0,isOpen:!0,toggle:n},s.a.createElement(S.A,{toggle:n},Object(d.mb)("Disconnect")),s.a.createElement(S.y,null,s.a.createElement("p",null,Object(d.mb)("Are you sure you want to disconnect?")),s.a.createElement("form",{ref:this.form,className:"d-none",method:"post",action:t},s.a.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:a}))),s.a.createElement(S.z,null,s.a.createElement(S.c,{color:"secondary",onClick:n},Object(d.mb)("Cancel")),s.a.createElement(S.c,{color:"primary",onClick:this.disconnect},Object(d.mb)("Disconnect"))))}}]),a}(o.Component),$=window.app.pageOptions,ee=$.csrfToken,te=$.langCode,ae=$.socialConnectedDingtalk,ne=$.socialNextPage,ce=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).confirmDisconnect=function(e){e.preventDefault(),c.setState({isConfirmDialogOpen:!0})},c.toggleDialog=function(){c.setState({isConfirmDialogOpen:!c.state.isConfirmDialogOpen})},c.state={isConfirmDialogOpen:!1},c}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"setting-item",id:"social-auth"},s.a.createElement("h3",{className:"setting-item-heading"},Object(d.mb)("Social Login")),s.a.createElement("p",{className:"mb-2"},"zh-cn"==te?"\u9489\u9489":"Dingtalk"),ae?s.a.createElement("a",{href:"#",className:"btn btn-outline-primary",onClick:this.confirmDisconnect},Object(d.mb)("Disconnect")):s.a.createElement("a",{href:"".concat(d.ic,"dingtalk/connect/?next=").concat(encodeURIComponent(ne)),className:"btn btn-outline-primary"},Object(d.mb)("Connect"))),this.state.isConfirmDialogOpen&&s.a.createElement(I.a,null,s.a.createElement(Z,{formActionURL:"".concat(d.ic,"dingtalk/disconnect/?next=").concat(encodeURIComponent(ne)),csrfToken:ee,toggle:this.toggleDialog})))}}]),a}(s.a.Component),re=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).action=function(){c.form.current.submit()},c.form=s.a.createRef(),c}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.formActionURL,a=e.csrfToken,n=e.toggle;return s.a.createElement(S.x,{centered:!0,isOpen:!0,toggle:n},s.a.createElement(S.A,{toggle:n},Object(d.mb)("Delete Account")),s.a.createElement(S.y,null,s.a.createElement("p",null,Object(d.mb)("Really want to delete your account?")),s.a.createElement("form",{ref:this.form,className:"d-none",method:"post",action:t},s.a.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:a}))),s.a.createElement(S.z,null,s.a.createElement(S.c,{color:"secondary",onClick:n},Object(d.mb)("Cancel")),s.a.createElement(S.c,{color:"primary",onClick:this.action},Object(d.mb)("Delete"))))}}]),a}(o.Component),ie=window.app.pageOptions.csrfToken,oe=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).confirmDelete=function(e){e.preventDefault(),c.setState({isConfirmDialogOpen:!0})},c.toggleDialog=function(){c.setState({isConfirmDialogOpen:!c.state.isConfirmDialogOpen})},c.state={isConfirmDialogOpen:!1},c}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"setting-item",id:"del-account"},s.a.createElement("h3",{className:"setting-item-heading"},Object(d.mb)("Delete Account")),s.a.createElement("p",{className:"mb-2"},Object(d.mb)("This operation will not be reverted. Please think twice!")),s.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.confirmDelete},Object(d.mb)("Delete"))),this.state.isConfirmDialogOpen&&s.a.createElement(I.a,null,s.a.createElement(re,{formActionURL:"".concat(d.ic,"profile/delete/"),csrfToken:ie,toggle:this.toggleDialog})))}}]),a}(s.a.Component),se=(a(93),a(106),a(1226),window.app.pageOptions),le=se.canUpdatePassword,me=se.passwordOperationText,ue=se.enableGetAuthToken,be=se.enableWebdavSecret,de=se.enableAddressBook,he=se.twoFactorAuthEnabled,fe=se.enableWechatWork,pe=se.enableDingtalk,ge=se.enableDeleteAccount,Oe=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).updateUserInfo=function(e){h.a.updateUserInfo(e).then((function(e){c.setState({userInfo:e.data}),f.a.success(Object(d.mb)("Success"))})).catch((function(e){var t=b.a.getErrorMsg(e);f.a.danger(t)}))},c.onSearchedClick=function(e){if(!0===e.is_dir){var t=d.ic+"library/"+e.repo_id+"/"+e.repo_name+e.path;Object(u.c)(t,{repalce:!0})}else{var a=d.ic+"lib/"+e.repo_id+"/file"+b.a.encodePath(e.path);window.open("about:blank").location.href=a}},c.handleContentScroll=function(e){var t=e.target.scrollTop,a=c.sideNavItems.filter((function(e,a){return e.show&&document.getElementById(e.href.substr(1)).offsetTop-45<t}));a.length&&c.setState({curItemID:a[a.length-1].href.substr(1)})},c.sideNavItems=[{show:!0,href:"#user-basic-info",text:Object(d.mb)("Profile")},{show:le,href:"#update-user-passwd",text:Object(d.mb)("Password")},{show:ue,href:"#get-auth-token",text:Object(d.mb)("Web API Auth Token")},{show:be,href:"#update-webdav-passwd",text:Object(d.mb)("WebDav Password")},{show:de,href:"#list-in-address-book",text:Object(d.mb)("Global Address Book")},{show:!0,href:"#lang-setting",text:Object(d.mb)("Language")},{show:d.wb,href:"#email-notice",text:Object(d.mb)("Email Notification")},{show:he,href:"#two-factor-auth",text:Object(d.mb)("Two-Factor Authentication")},{show:fe,href:"#social-auth",text:Object(d.mb)("Social Login")},{show:pe,href:"#social-auth",text:Object(d.mb)("Social Login")},{show:ge,href:"#del-account",text:Object(d.mb)("Delete Account")}],c.state={curItemID:c.sideNavItems[0].href.substr(1)},c}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.getUserInfo().then((function(t){e.setState({userInfo:t.data})})).catch((function(e){var t=b.a.getErrorMsg(e);f.a.danger(t)}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"h-100 d-flex flex-column"},s.a.createElement("div",{className:"top-header d-flex justify-content-between"},s.a.createElement("a",{href:d.ic},s.a.createElement("img",{src:d.Jb+d.Eb,height:d.Db,width:d.Fb,title:d.jc,alt:"logo"})),s.a.createElement(p.a,{onSearchedClick:this.onSearchedClick})),s.a.createElement("div",{className:"flex-auto d-flex o-hidden"},s.a.createElement("div",{className:"side-panel o-auto"},s.a.createElement(g,{data:this.sideNavItems,curItemID:this.state.curItemID})),s.a.createElement("div",{className:"main-panel d-flex flex-column"},s.a.createElement("h2",{className:"heading"},Object(d.mb)("Settings")),s.a.createElement("div",{className:"content position-relative",onScroll:this.handleContentScroll},s.a.createElement("div",{id:"user-basic-info",className:"setting-item"},s.a.createElement("h3",{className:"setting-item-heading"},Object(d.mb)("Profile Setting")),s.a.createElement(j,null),this.state.userInfo&&s.a.createElement(y,{userInfo:this.state.userInfo,updateUserInfo:this.updateUserInfo})),le&&s.a.createElement("div",{id:"update-user-passwd",className:"setting-item"},s.a.createElement("h3",{className:"setting-item-heading"},Object(d.mb)("Password")),s.a.createElement("a",{href:"".concat(d.ic,"accounts/password/change/"),className:"btn btn-outline-primary"},me)),ue&&s.a.createElement(D,null),be&&s.a.createElement(A,null),de&&this.state.userInfo&&s.a.createElement(M,{userInfo:this.state.userInfo,updateUserInfo:this.updateUserInfo}),s.a.createElement(L,null),d.wb&&s.a.createElement(V,null),he&&s.a.createElement(G,null),fe&&s.a.createElement(X,null),pe&&s.a.createElement(ce,null),ge&&s.a.createElement(oe,null))))))}}]),a}(s.a.Component);m.a.render(s.a.createElement(Oe,null),document.getElementById("wrapper"))}},[[1225,1,0]]]);
//# sourceMappingURL=settings.chunk.js.map