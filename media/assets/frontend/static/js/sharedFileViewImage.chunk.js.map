{"version":3,"sources":["shared-file-view-image.js"],"names":["window","shared","pageOptions","fileName","rawPath","err","prevImgPath","nextImgPath","prevImgURL","encodeURIComponent","nextImgURL","SharedFileViewImage","content","FileContent","React","Component","document","addEventListener","e","keyCode","location","href","className","id","title","gettext","src","alt","ReactDOM","render","getElementById"],"mappings":"6QAQ6DA,OAAOC,OAAOC,aAAnEC,E,EAAAA,SAAUC,E,EAAAA,QAASC,E,EAAAA,IAAKC,E,EAAAA,YAAaC,E,EAAAA,YAEvCC,EAAU,aAASC,mBAAmBH,IACtCI,EAAU,aAASD,mBAAmBF,IAEtCI,E,uKAEF,OAAO,kBAAC,IAAD,CAAgBC,QAAS,kBAACC,EAAD,Y,GAFFC,IAAMC,WAMlCF,E,kLAGFG,SAASC,iBAAiB,WAAW,SAACC,GAChCZ,GAA4B,IAAbY,EAAEC,UACnBC,SAASC,KAAOb,GAEdD,GAA4B,IAAbW,EAAEC,UACnBC,SAASC,KAAOX,Q,+BAMpB,OAAIL,EACK,kBAAC,IAAD,MAIP,yBAAKiB,UAAU,4CACb,yBAAKA,UAAU,0BACZhB,GACC,uBAAGe,KAAMb,EAAYe,GAAG,WAAWC,MAAOC,aAAQ,+BAA0B,0BAAMH,UAAU,yBAE7Ff,GACC,uBAAGc,KAAMX,EAAYa,GAAG,WAAWC,MAAOC,aAAQ,8BAAyB,0BAAMH,UAAU,0BAE7F,yBAAKI,IAAKtB,EAASuB,IAAKxB,EAAUoB,GAAG,qB,GA3BrBT,IAAMC,WAkChCa,IAASC,OACP,kBAAClB,EAAD,MACAK,SAASc,eAAe,c","file":"static/js/sharedFileViewImage.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport SharedFileView from './components/shared-file-view/shared-file-view';\nimport SharedFileViewTip from './components/shared-file-view/shared-file-view-tip';\nimport { gettext } from './utils/constants';\n\nimport './css/image-file-view.css';\n\nconst { fileName, rawPath, err, prevImgPath, nextImgPath } = window.shared.pageOptions;\n\nconst prevImgURL = `?p=${encodeURIComponent(prevImgPath)}`;\nconst nextImgURL = `?p=${encodeURIComponent(nextImgPath)}`;\n\nclass SharedFileViewImage extends React.Component {\n  render() {\n    return <SharedFileView content={<FileContent />} />;\n  }\n}\n\nclass FileContent extends React.Component {\n\n  componentDidMount() {\n    document.addEventListener('keydown', (e) => {\n      if (prevImgPath && e.keyCode == 37) { // press '<-'\n        location.href = prevImgURL;\n      }\n      if (nextImgPath && e.keyCode == 39) { // press '->'\n        location.href = nextImgURL;\n      }\n    });\n  }\n\n  render() {\n    if (err) {\n      return <SharedFileViewTip />;\n    }\n\n    return (\n      <div className=\"shared-file-view-body d-flex text-center\">\n        <div className=\"image-file-view flex-1\">\n          {prevImgPath && (\n            <a href={prevImgURL} id=\"img-prev\" title={gettext('you can also press ← ')}><span className=\"fas fa-chevron-left\"></span></a>\n          )}\n          {nextImgPath && (\n            <a href={nextImgURL} id=\"img-next\" title={gettext('you can also press →')}><span className=\"fas fa-chevron-right\"></span></a>\n          )}\n          <img src={rawPath} alt={fileName} id=\"image-view\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(\n  <SharedFileViewImage />,\n  document.getElementById('wrapper')\n);\n"],"sourceRoot":""}